<html><head><title>Code</title><style type="text/css"><!--/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
#s6 .de1, #s6 .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
#s6  {font-family:monospace;}
#s6 .imp {font-weight: bold; color: red;}
#s6 li, #s6 .li1 {font-weight: normal; vertical-align:top;}
#s6 .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
#s6 .kw1 {color: #0600FF; font-weight: bold;}
#s6 .kw2 {color: #FF8000; font-weight: bold;}
#s6 .kw3 {color: #008000;}
#s6 .kw4 {color: #6666cc; font-weight: bold;}
#s6 .kw5 {color: #000000;}
#s6 .co1 {color: #008080; font-style: italic;}
#s6 .co2 {color: #008080;}
#s6 .co3 {color: #008080;}
#s6 .coMULTI {color: #008080; font-style: italic;}
#s6 .es0 {color: #008080; font-weight: bold;}
#s6 .es_h {color: #008080; font-weight: bold;}
#s6 .br0 {color: #008000;}
#s6 .sy0 {color: #008000;}
#s6 .st0 {color: #666666;}
#s6 .st_h {color: #666666;}
#s6 .nu0 {color: #FF0000;}
#s6 .me1 {color: #0000FF;}
#s6 .me2 {color: #0000FF;}
#s6 span.xtra { display:block; }
#s6- { background:#FFAAEE; }--></style></head><pre class="csharp" id="s6"><ol><li class="li1" id="s6-1"><div class="de1"><span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span></div></li><li class="li1" id="s6-2"><div class="de1"><span class="kw1">using</span> <span class="co3">System.Collections.Generic</span><span class="sy0">;</span></div></li><li class="li1" id="s6-3"><div class="de1"><span class="kw1">using</span> <span class="co3">System.Linq</span><span class="sy0">;</span></div></li><li class="li1" id="s6-4"><div class="de1"><span class="kw1">using</span> <span class="co3">System.Text</span><span class="sy0">;</span></div></li><li class="li1" id="s6-5"><div class="de1"> </div></li><li class="li1" id="s6-6"><div class="de1"><span class="kw1">namespace</span> xsdClasses</div></li><li class="li1" id="s6-7"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1" id="s6-8"><div class="de1">    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">class</span> Operations</div></li><li class="li1" id="s6-9"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1" id="s6-10"><div class="de1">        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> Total<span class="br0">&#40;</span>Company company<span class="br0">&#41;</span></div></li><li class="li1" id="s6-11"><div class="de1">        <span class="br0">&#123;</span></div></li><li class="li1" id="s6-12"><div class="de1">            <span class="kw1">return</span> company<span class="sy0">.</span><span class="me1">TopLevelDepartment</span><span class="sy0">.</span><span class="me1">Sum</span><span class="br0">&#40;</span>dept <span class="sy0">=&gt;</span> Total<span class="br0">&#40;</span>dept<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1" id="s6-13"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1" id="s6-14"><div class="de1"> </div></li><li class="li1" id="s6-15"><div class="de1">        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> Cut<span class="br0">&#40;</span>Company company<span class="br0">&#41;</span></div></li><li class="li1" id="s6-16"><div class="de1">        <span class="br0">&#123;</span></div></li><li class="li1" id="s6-17"><div class="de1">            <span class="kw1">foreach</span> <span class="br0">&#40;</span>var dept <span class="kw1">in</span> company<span class="sy0">.</span><span class="me1">TopLevelDepartment</span><span class="br0">&#41;</span></div></li><li class="li1" id="s6-18"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1" id="s6-19"><div class="de1">                Cut<span class="br0">&#40;</span>dept<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1" id="s6-20"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1" id="s6-21"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1" id="s6-22"><div class="de1"> </div></li><li class="li1" id="s6-23"><div class="de1">        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> Total <span class="br0">&#40;</span>Department department<span class="br0">&#41;</span></div></li><li class="li1" id="s6-24"><div class="de1">        <span class="br0">&#123;</span></div></li><li class="li1" id="s6-25"><div class="de1">            var s <span class="sy0">=</span> department<span class="sy0">.</span><span class="me1">Manager</span><span class="sy0">.</span><span class="me1">Salary</span><span class="sy0">;</span></div></li><li class="li1" id="s6-26"><div class="de1">            <span class="kw1">if</span> <span class="br0">&#40;</span>department<span class="sy0">.</span><span class="me1">SubDepartment</span> <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">&#41;</span></div></li><li class="li1" id="s6-27"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1" id="s6-28"><div class="de1">                s <span class="sy0">+=</span> department<span class="sy0">.</span><span class="me1">SubDepartment</span><span class="sy0">.</span><span class="me1">Sum</span><span class="br0">&#40;</span>d <span class="sy0">=&gt;</span> Total<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1" id="s6-29"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1" id="s6-30"><div class="de1">            <span class="kw1">if</span> <span class="br0">&#40;</span>department<span class="sy0">.</span><span class="me1">Employee</span> <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">&#41;</span></div></li><li class="li1" id="s6-31"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1" id="s6-32"><div class="de1">                s <span class="sy0">+=</span> department<span class="sy0">.</span><span class="me1">Employee</span><span class="sy0">.</span><span class="me1">Sum</span><span class="br0">&#40;</span>e <span class="sy0">=&gt;</span> e<span class="sy0">.</span><span class="me1">Salary</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1" id="s6-33"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1" id="s6-34"><div class="de1"> </div></li><li class="li1" id="s6-35"><div class="de1">            <span class="kw1">return</span> s<span class="sy0">;</span></div></li><li class="li1" id="s6-36"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1" id="s6-37"><div class="de1"> </div></li><li class="li1" id="s6-38"><div class="de1">        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> Cut<span class="br0">&#40;</span>Department department<span class="br0">&#41;</span></div></li><li class="li1" id="s6-39"><div class="de1">        <span class="br0">&#123;</span></div></li><li class="li1" id="s6-40"><div class="de1">            <span class="kw1">foreach</span> <span class="br0">&#40;</span>var dept <span class="kw1">in</span> department<span class="sy0">.</span><span class="me1">SubDepartment</span><span class="br0">&#41;</span></div></li><li class="li1" id="s6-41"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1" id="s6-42"><div class="de1">                Cut<span class="br0">&#40;</span>dept<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1" id="s6-43"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1" id="s6-44"><div class="de1"> </div></li><li class="li1" id="s6-45"><div class="de1">            department<span class="sy0">.</span><span class="me1">Manager</span><span class="sy0">.</span><span class="me1">Salary</span> <span class="sy0">/=</span> <span class="nu0">2</span><span class="sy0">;</span></div></li><li class="li1" id="s6-46"><div class="de1"> </div></li><li class="li1" id="s6-47"><div class="de1">            <span class="kw1">foreach</span> <span class="br0">&#40;</span>var emp <span class="kw1">in</span> department<span class="sy0">.</span><span class="me1">Employee</span><span class="sy0">.</span><span class="kw1">Where</span><span class="br0">&#40;</span>e <span class="sy0">=&gt;</span> e<span class="sy0">.</span><span class="me1">Salary</span> <span class="sy0">!=</span> <span class="nu0">0.0</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1" id="s6-48"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1" id="s6-49"><div class="de1">                emp<span class="sy0">.</span><span class="me1">Salary</span> <span class="sy0">/=</span> <span class="nu0">2</span><span class="sy0">;</span></div></li><li class="li1" id="s6-50"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1" id="s6-51"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1" id="s6-52"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1" id="s6-53"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1" id="s6-54"><div class="de1"> </div></li></ol></pre>